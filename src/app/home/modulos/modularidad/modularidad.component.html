<!-- Título principal de la página -->
<div class="text-center mb-6 mt-6">
  <h1 class="text-3xl font-bold text-gray-800 mb-2 drop-shadow-md">🧩 Módulo de Funciones</h1>
  <!-- Separador elegante con gradiente -->
  <div class="flex items-center justify-center mb-1">
    <div class="h-0.5 bg-gradient-to-r from-transparent via-cyan-500 to-transparent w-96 shadow-sm"></div>
  </div>
  <div class="flex items-center justify-center">
    <div class="h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent w-64 opacity-60"></div>
  </div>
</div>
<div class="min-h-screen">
  <div class="flex flex-col gap-6 p-4 mx-8">
    <div class="bg-gray-500/20 backdrop-blur-md p-6 rounded-lg border border-gray-400/30 shadow-lg">
      <h2 class="text-xl font-bold mb-3 text-gray-800">🧩 ¿Qué son las funciones?</h2>
      <div class="space-y-6">
        <div class="w-full">
          <p class="text-gray-700 leading-relaxed text-justify text-base" style="text-align: justify;">
            <strong>Una función</strong> es como una pequeña máquina que hace una tarea específica dentro del programa.
Le damos un nombre y dentro de ella escribimos los pasos que queremos que siga.

En vez de escribir los mismos pasos una y otra vez, ponemos esos pasos dentro de la función y luego, cuando necesitamos que se hagan, simplemente llamamos a la función usando su nombre.

Es como cuando grabas un mensaje de voz: lo haces una vez y puedes reproducirlo cada vez que quieras, sin tener que decirlo otra vez.
          </p>
        </div>
        <div class="bg-cyan-50 p-3 rounded border-l-4 border-cyan-400">
          <p class="text-cyan-800 text-sm font-medium mb-2"><strong>Ejemplo cotidiano:</strong></p>
          <p class="text-gray-700 text-sm">Pedir comida por una app: tú envías el pedido (parámetro), la app procesa la
            orden (instrucciones) y recibes la comida (resultado).</p>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
        <div class="p-4 bg-blue-50 rounded-lg border-l-4 border-blue-400">
          <h3 class="text-lg font-semibold text-blue-600 mb-2">⚙️ ¿Cómo funciona una función?</h3>
          <div class="bg-white p-3 rounded border text-sm">
            <ul class="list-disc pl-6 mb-2">
              <li>Recibe datos de entrada llamados <strong>parámetros</strong>.</li>
              <li>Ejecuta una serie de instrucciones paso a paso.</li>
              <li>Devuelve un resultado final llamado <strong>valor de retorno</strong>.</li>
            </ul>
          </div>
        </div>
        <div class="p-4 bg-teal-50 rounded-lg border-l-4 border-teal-400">
          <h3 class="text-lg font-semibold text-teal-600 mb-2">🖼️ Analogía visual</h3>
          <div class="bg-white p-3 rounded border text-sm">
            <p>Imagina que una función es como una máquina en una fábrica: le das materia prima (datos), la máquina
              sigue un proceso (instrucciones) y te entrega un producto terminado (resultado).</p>
            <p>También puedes pensar en una receta de cocina: ingredientes → proceso → platillo.</p>
          </div>
        </div>
        <div class="p-4 bg-orange-50 rounded-lg border-l-4 border-orange-400">
          <h3 class="text-lg font-semibold text-orange-600 mb-2">💎 Importancia de las funciones</h3>
          <div class="bg-white p-3 rounded border text-sm">
            <ul class="list-disc pl-6 mb-2">
              <li>Permiten dividir el código en partes pequeñas y manejables.</li>
              <li>Facilitan la reutilización: puedes usar la misma función en diferentes lugares.</li>
              <li>Ayudan a evitar errores y duplicación de código.</li>
              <li>Mejoran la legibilidad y el mantenimiento de los programas.</li>
              <li>Son la base de la programación modular y estructurada.</li>
            </ul>
          </div>
        </div>
        <div class="p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-400">
          <h3 class="text-lg font-semibold text-yellow-600 mb-2">🌅 Ejemplos en la vida cotidiana</h3>
          <div class="bg-white p-3 rounded border text-sm">
            <p class="text-gray-700 mb-2"><strong>📞 Llamar por teléfono:</strong> función que recibe el número y
              conecta la llamada.</p>
            <p class="text-gray-700 mb-2"><strong>🚗 Usar GPS:</strong> función que recibe destino y muestra la ruta.
            </p>
            <p class="text-gray-700 mb-2"><strong>🧺 Lavar ropa:</strong> función que recibe ropa sucia y devuelve ropa
              limpia.</p>
            <p class="text-gray-700 mb-2"><strong>🍳 Cocinar:</strong> función que recibe ingredientes y devuelve un
              platillo.</p>
          </div>
        </div>
        <div class="p-4 bg-teal-50 rounded-lg border-l-4 border-teal-400">
          <h3 class="text-lg font-semibold text-teal-600 mb-2">🧠 Curiosidades y metáforas</h3>
          <div class="bg-white p-3 rounded border text-sm space-y-2">
            <p class="text-gray-700">• Las funciones pueden llamarse a sí mismas (recursividad), como una muñeca rusa.
            </p>
            <p class="text-gray-700">• En matemáticas, una función transforma una entrada en una salida: f(x) = x + 1.
            </p>
            <p class="text-gray-700">• En la vida real, una receta de cocina es una función: ingredientes → platillo.
            </p>
            <p class="text-gray-700">• Los videojuegos usan funciones para calcular puntajes, movimientos y efectos.</p>
          </div>
        </div>
        <div class="p-4 bg-indigo-50 rounded-lg border-l-4 border-indigo-400">
          <h3 class="text-lg font-semibold text-indigo-600 mb-2">🧪 Errores y curiosidades</h3>
          <div class="bg-white p-3 rounded border text-sm space-y-2">
            <p class="text-gray-700">• Olvidar el <code>return</code> puede hacer que la función no devuelva nada.</p>
            <p class="text-gray-700">• Puedes tener funciones dentro de funciones (anidadas).</p>
            <p class="text-gray-700">• Las funciones pueden recibir cero, uno o muchos parámetros.</p>
            <p class="text-gray-700">• En algunos lenguajes, las funciones pueden devolver más de un valor (tuplas,
              objetos).</p>
          </div>
        </div>
        <div class="p-4 bg-purple-50 rounded-lg border-l-4 border-purple-400">
          <h3 class="text-lg font-semibold text-purple-600 mb-2">🛠️ Elementos clave de una función</h3>
          <div class="bg-white p-3 rounded border text-sm space-y-2">
            <div><span class="text-purple-600 font-semibold">• Nombre:</span> Identificador único y descriptivo.</div>
            <div><span class="text-purple-600 font-semibold">• Parámetros:</span> Datos que recibe para trabajar.</div>
            <div><span class="text-purple-600 font-semibold">• Instrucciones:</span> Pasos que ejecuta para cumplir su
              tarea.</div>
            <div><span class="text-purple-600 font-semibold">• Valor de retorno:</span> Resultado que entrega al
              finalizar.</div>
          </div>
        </div>
        <div class="p-4 bg-blue-50 rounded-lg border-l-4 border-blue-400">
          <h3 class="text-lg font-semibold text-blue-600 mb-2">🌎 Comparación con la vida real</h3>
          <div class="bg-white p-3 rounded border text-sm">
            <p class="text-gray-700">• Receta de cocina: función que recibe ingredientes y devuelve un platillo.</p>
            <p class="text-gray-700">• Llamar a un electricista: función que recibe problema y devuelve solución.</p>
            <p class="text-gray-700">• Pedir comida por app: función que recibe pedido y devuelve comida.</p>
            <p class="text-gray-700">• Usar una calculadora: función que recibe números y devuelve el resultado.</p>
            <p class="text-gray-700">• Buscar información en internet: función que recibe una pregunta y devuelve una
              respuesta.</p>
          </div>
        </div>
        <div class="p-4 bg-cyan-50 rounded-lg border-l-4 border-cyan-400">
          <h3 class="text-lg font-semibold text-cyan-600 mb-2">📋 Sintaxis general</h3>
          <div class="bg-white p-3 rounded border text-xs font-mono">
            <code>function nombreFuncion(parámetros) {{ '{' }}<br/>  // instrucciones<br/>  return valor;<br/>{{ '}' }}</code>
          </div>
          <ul class="list-disc pl-6 mt-2 text-sm">
            <li><strong>Funciones sin parámetros:</strong> No reciben datos, solo ejecutan instrucciones.</li>
            <li><strong>Funciones con parámetros:</strong> Reciben uno o más datos para trabajar.</li>
            <li><strong>Funciones que retornan valor:</strong> Devuelven un resultado.</li>
            <li><strong>Funciones que no retornan valor:</strong> Solo ejecutan acciones.</li>
          </ul>
        </div>
        <div class="p-4 bg-green-50 rounded-lg border-l-4 border-green-400">
          <h3 class="text-lg font-semibold text-green-600 mb-2">✅ Buenas prácticas y errores comunes</h3>
          <div class="bg-white p-3 rounded border text-sm">
            <ul class="list-disc pl-6 mb-2">
              <li>Usa nombres descriptivos para tus funciones.</li>
              <li>No hagas funciones demasiado largas o con muchas responsabilidades.</li>
              <li>Documenta lo que hace cada función.</li>
              <li>Olvidar el <code>return</code> cuando se espera un resultado.</li>
              <li>Confundir los parámetros con las variables internas.</li>
              <li>Usar nombres poco claros.</li>
            </ul>
            <div class="bg-cyan-100 p-2 rounded mt-2 text-xs font-mono">
              <code>function saludar(nombre) {{ '{' }}<br/>  return "Hola, " + nombre + "!";<br/>{{ '}' }}<br/><br/>let mensaje = saludar("Ana"); // mensaje = "Hola, Ana!"</code>
            </div>
          </div>
        </div>
        </div>
      </div>
    </div>
    <div class="bg-gray-500/20 backdrop-blur-md p-6 rounded-lg border border-gray-400/30 shadow-lg">
      <h2 class="text-xl font-bold mb-4 text-gray-800">🧪 Ejemplos Dinámicos</h2>
      <p class="text-gray-700 mb-6 text-justify">
        A continuación encontrarás ejemplos interactivos que demuestran cómo funcionan las funciones en situaciones
        cotidianas.
        Cada ejemplo incluye un diagrama de flujo que puedes visualizar paso a paso.
      </p>
      <div class="overflow-x-auto">
        <div class="flex gap-6 pb-4" style="min-width: max-content;">
          <div *ngFor="let ejemplo of ejemplos"
            class="flex-shrink-0 bg-white/80 backdrop-blur-sm rounded-lg p-6 border border-gray-200 shadow-md hover:shadow-lg transition-shadow duration-200 flex flex-col justify-between"
            style="width: 350px; height: 350px;">
            <div class="flex-1 flex flex-col">
              <div class="flex items-center mb-4">
                <span class="text-3xl mr-3">{{ ejemplo.icon }}</span>
                <h3 class="text-lg font-semibold text-gray-800 line-clamp-2 leading-tight">{{ ejemplo.title }}</h3>
              </div>
              <p class="text-gray-600 text-sm mb-4 leading-relaxed line-clamp-4 flex-1">{{ ejemplo.description }}</p>
            </div>
            <div class="mt-auto">
              <div class="bg-cyan-50 p-3 rounded-lg border-l-4 border-cyan-400 mb-4">
                <p class="text-cyan-800 text-xs font-medium line-clamp-3">{{ ejemplo.question }}</p>
              </div>
              <button (click)="openFlowchartModal(ejemplo)"
                class="w-full bg-cyan-500 hover:bg-cyan-600 text-white py-3 px-4 rounded transition-colors duration-200 text-sm font-medium shadow-md hover:shadow-lg">
                🚀 Ver Diagrama de Flujo
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="mt-8 p-4 bg-cyan-50 border border-cyan-200 rounded-lg">
        <p class="text-cyan-800 text-sm">
          <strong>💡 Consejo:</strong> Las funciones te ayudan a organizar y reutilizar tu código. Observa cómo cada
          ejemplo usa diferentes tipos de entrada y salida.
        </p>
      </div>
    </div>
    <div class="bg-gray-500/20 backdrop-blur-md p-6 rounded-lg border border-gray-400/30 shadow-lg">
      <h2 class="text-xl font-bold mb-4 text-gray-800">🎯 Ejercicios Prácticos</h2>
      <p class="text-gray-700 mb-6 text-justify">
        Ahora es tu turno de practicar. Estos ejercicios te ayudarán a dominar las funciones
        usando programación visual con Blockly. Cada ejercicio te enseñará un concepto específico.
      </p>
      <app-blockly-exercise (exercisecompleted)="onBlocklyExerciseCompleted($event)"
        (nextexercise)="nextBlocklyExercise()" (previousexercise)="previousBlocklyExercise()" [exercises]="ejercicios">
      </app-blockly-exercise>
    </div>
  </div>
</div>
